<div class="input-container">
  <form class="input-form" (ngSubmit)="onSubmit()">
    <div class="input-wrapper">
      <textarea
        [(ngModel)]="questionText"
        name="question"
        [disabled]="isDisabled()"
        (keydown)="onKeyDown($event)"
        placeholder="Posez une question..."
        rows="1"
        class="question-input"
        [attr.aria-label]="'Question'">
      </textarea>

      <button
        type="submit"
        class="send-button"
        [disabled]="!isValid() || isDisabled()"
        [class.loading]="isDisabled()"
        aria-label="Envoyer">
        @if (isDisabled()) {
          <svg class="spinner" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10" stroke-opacity="0.25"/>
            <path d="M12 2a10 10 0 0 1 10 10" stroke-linecap="round"/>
          </svg>
        } @else {
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
          </svg>
        }
      </button>
    </div>
  </form>
</div>
